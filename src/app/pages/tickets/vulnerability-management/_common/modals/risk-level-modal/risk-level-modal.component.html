<app-base-modal [modalTitle]=" 'MODALS.TITLE.RISK_LEVEL' | translate">
  <div modal-body>
    <h3><strong>Host: </strong>{{data.updateRow.hostName}}</h3>
    <form class="form form-label-right" [formGroup]="formGroup">
      <div class="form-group row">
        <mat-form-field class="ols-form-control" appearance="fill">
          <mat-label [translate]="'VM.AVS.IP360.TABLE.TEAM_LIST.H6'"></mat-label>
          <input matInput [placeholder]="'VM.AVS.IP360.TABLE.TEAM_LIST.H6' | translate" formControlName="score"
            [maxlength]="maxLength.GENERAL">
          <mat-error>
            <app-control-error [validationSignal]="validatorService.validateArray(formControls.score, 
                [{valType:'required',message:('VALIDATION.ERROR.REQUIRED' | translate)}])">
            </app-control-error>
          </mat-error>
        </mat-form-field>
        <mat-form-field class="ols-form-control" appearance="fill">
          <mat-label [translate]="'VM.AVS.IP360.TABLE.TEAM_LIST.H7'"></mat-label>
          <mat-select [compareWith]="compareObjects" formControlName="riskLevel">
            <mat-option *ngFor="let rl of riskLevels" [value]="rl">
              {{ rl.description }}
            </mat-option>
          </mat-select>
          <mat-error>
            <app-control-error [validationSignal]="validatorService.validateArray(formControls.riskLevel, 
                [{valType:'required',message:('VALIDATION.ERROR.REQUIRED' | translate)}])">
            </app-control-error>
          </mat-error>
        </mat-form-field>
        <mat-form-field class="ols-form-control" appearance="fill">
          <mat-label [translate]="'VM.AVS.IP360.TABLE.TEAM_LIST.H8'"></mat-label>
          <mat-select [compareWith]="compareObjects" formControlName="requesterResult">
            <mat-option *ngFor="let res of results" [value]="res">
              {{ res.description }}
            </mat-option>
          </mat-select>
          <mat-error>
            <app-control-error [validationSignal]="validatorService.validateArray(formControls.requesterResult, 
                [{valType:'required',message:('VALIDATION.ERROR.REQUIRED' | translate)}])">
            </app-control-error>
          </mat-error>
        </mat-form-field>
        <mat-form-field class="ols-form-control" appearance="fill">
          <mat-label [translate]="'VM.AVS.IP360.TABLE.TEAM_LIST.H9'"></mat-label>
          <mat-select [compareWith]="compareObjects" formControlName="errorType">
            <mat-option *ngFor="let errorType of errorTypeList" [value]="errorType">
              {{ errorType.description }}
            </mat-option>
          </mat-select>
          <mat-error>
            <app-control-error [validationSignal]="validatorService.validateArray(formControls.errorType, 
                [{valType:'required',message:('VALIDATION.ERROR.REQUIRED' | translate)}])">
            </app-control-error>
          </mat-error>
        </mat-form-field>
      </div>
      <div class="form-group row">
        <div class="col-lg-12">
          <button type="button" mat-raised-button color="warn" (click)="teamList.click()">
            <mat-icon matPrefix>upload</mat-icon>
            {{ 'VM.MODAL.BTN.UPLOAD_REPORT' | translate }}
          </button>
          <input style="display: none" type="file" class="file-input" (change)="onFileSelected($event.target.files)"
            #teamList>
        </div>
      </div>
      <div *ngIf="objFile" class="form-group row">
        <div class="col-lg-12">
          <mat-label>{{objFile.name}}</mat-label>
          <mat-icon style="margin-left: 15px; cursor: pointer" (click)="downloadFile()" matSuffix>download
          </mat-icon>
        </div>
      </div>
    </form>
  </div>
  <div modal-footer>
    <button class="mr-6" mat-raised-button color="warn" (click)="this.closeModal()">
      {{ 'BUTTONS.CANCEL' | translate}}
    </button>
    <button mat-raised-button color="warn" (click)="save()">
      {{ 'BUTTONS.SAVE' | translate}}
    </button>
  </div>
</app-base-modal>