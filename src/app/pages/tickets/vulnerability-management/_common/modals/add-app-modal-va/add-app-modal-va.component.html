<app-base-modal [modalTitle]="evaluationType | translate">
  <div modal-body>
    <form class="form form-label-right" [formGroup]="formGroup">
      <div class="form-group row" *ngIf="isNewTicket || idStatus == 104">
        <div class="col-lg-12">
          <mat-form-field class="ols-form-control" appearance="fill">
            <mat-label [translate]="'VM.VA.EVALUATION_TYPE.MODAL.FLD.NAME'"></mat-label>
            <input matInput [placeholder]="'VM.VA.EVALUATION_TYPE.MODAL.FLD.NAME' | translate" formControlName="name" [minlength]="minLength.GENERAL" [maxlength]="maxLength.GENERAL" required />
            <mat-error>
              <app-control-error [validationSignal]="validatorService.validateArray(formControls.name, 
                [{valType:'required',message:('VALIDATION.ERROR.REQUIRED' | translate)}])">
              </app-control-error>
            </mat-error>
          </mat-form-field>
          <mat-form-field class="ols-form-control" appearance="fill">
            <mat-label [translate]="'VM.VA.EVALUATION_TYPE.MODAL.FLD.VERSION'"></mat-label>
            <input matInput [placeholder]="'VM.VA.EVALUATION_TYPE.MODAL.FLD.VERSION' | translate" formControlName="version" 
              [minlength]="minLength.NUMBER" [maxlength]="maxLength.NUMBER" required />
            <mat-error>
              <app-control-error [validationSignal]="validatorService.validateArray(formControls.version, 
                [{valType:'required',message:('VALIDATION.ERROR.REQUIRED' | translate)}])">
              </app-control-error>
            </mat-error>
          </mat-form-field>
          <mat-form-field class="ols-form-control" appearance="fill">
            <mat-label [translate]="'VM.VA.EVALUATION_TYPE.MODAL.FLD.DATE'"></mat-label>
            <input matInput type="date" [placeholder]="'VM.VA.EVALUATION_TYPE.MODAL.FLD.DATE' | translate" formControlName="date" required />
            <mat-error>
              <app-control-error [validationSignal]="validatorService.validateArray(formControls.date, 
                [{valType:'required',message:('VALIDATION.ERROR.REQUIRED' | translate)}])">
              </app-control-error>
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <h2>{{ 'VM.VA.EVALUATION_TYPE.MODAL.ANALYSIS_EDIT' | translate }}</h2>
      <div class="form-group row" *ngIf="userPolicies.includes('IS&C_Staff_Ejecutor')">
        <div class="col-lg-12">
          <mat-form-field class="ols-form-control" appearance="fill">
            <mat-label [translate]="'VM.VA.EVALUATION_TYPE.MODAL.FLD.ASSIGNED'"></mat-label>
            <input matInput [placeholder]="'VM.VA.EVALUATION_TYPE.MODAL.FLD.ASSIGNED' | translate" formControlName="assigned" 
              [minlength]="minLength.GENERAL" [maxlength]="maxLength.GENERAL" />
            <mat-error>
              <app-control-error [validationSignal]="validatorService.validateArray(formControls.assigned, 
                [{valType:'required',message:('VALIDATION.ERROR.REQUIRED' | translate)}])">
              </app-control-error>
            </mat-error>
          </mat-form-field>
          <mat-form-field class="ols-form-control" appearance="fill">
            <mat-label [translate]="'VM.VA.EVALUATION_TYPE.MODAL.FLD.RESULT'"></mat-label>
            <mat-select formControlName="result">
              <mat-option selected disabled>Seleccione una opci&oacute;n</mat-option>
              <mat-option *ngFor="let result of resultList" [value]="result">
                  {{ result }}
              </mat-option>
            </mat-select>
            <mat-error>
              <app-control-error [validationSignal]="validatorService.validateArray(formControls.result, 
                [{valType:'required',message:('VALIDATION.ERROR.REQUIRED' | translate)}])">
              </app-control-error>
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <h2>{{ 'VM.VA.EVALUATION_TYPE.MODAL.ANALYSIS_POINTS' | translate }}</h2>
      <div class="form-group row">
        <div class="col-lg-12">
          <mat-form-field class="ols-form-control" appearance="fill">
            <mat-label [translate]="'VM.VA.EVALUATION_TYPE.MODAL.FLD.CRITICS'"></mat-label>
            <input matInput [placeholder]="'VM.VA.EVALUATION_TYPE.MODAL.FLD.CRITICS' | translate" formControlName="critics" appOnlyNumber
              [minlength]="minLength.NUMBER" [maxlength]="maxLength.NUMBER" />
            <mat-error>
              <app-control-error [validationSignal]="validatorService.validateArray(formControls.critics, 
                [{valType:'required',message:('VALIDATION.ERROR.REQUIRED' | translate)}])">
              </app-control-error>
            </mat-error>
          </mat-form-field>
          <mat-form-field class="ols-form-control" appearance="fill">
            <mat-label [translate]="'VM.VA.EVALUATION_TYPE.MODAL.FLD.HIGH'"></mat-label>
            <input matInput [placeholder]="'VM.VA.EVALUATION_TYPE.MODAL.FLD.HIGH' | translate" formControlName="high" appOnlyNumber
              [minlength]="minLength.NUMBER" [maxlength]="maxLength.NUMBER" />
            <mat-error>
              <app-control-error [validationSignal]="validatorService.validateArray(formControls.high, 
                [{valType:'required',message:('VALIDATION.ERROR.REQUIRED' | translate)}])">
              </app-control-error>
            </mat-error>
          </mat-form-field>
          <mat-form-field class="ols-form-control" appearance="fill">
            <mat-label [translate]="'VM.VA.EVALUATION_TYPE.MODAL.FLD.MEDIUM'"></mat-label>
            <input matInput [placeholder]="'VM.VA.EVALUATION_TYPE.MODAL.FLD.MEDIUM' | translate" formControlName="medium" appOnlyNumber
              [minlength]="minLength.NUMBER" [maxlength]="maxLength.NUMBER" />
            <mat-error>
              <app-control-error [validationSignal]="validatorService.validateArray(formControls.medium, 
                [{valType:'required',message:('VALIDATION.ERROR.REQUIRED' | translate)}])">
              </app-control-error>
            </mat-error>
          </mat-form-field>
          <mat-form-field class="ols-form-control" appearance="fill">
            <mat-label [translate]="'VM.VA.EVALUATION_TYPE.MODAL.FLD.LOW'"></mat-label>
            <input matInput [placeholder]="'VM.VA.EVALUATION_TYPE.MODAL.FLD.LOW' | translate" formControlName="low" appOnlyNumber
              [minlength]="minLength.NUMBER" [maxlength]="maxLength.NUMBER" />
            <mat-error>
              <app-control-error [validationSignal]="validatorService.validateArray(formControls.low, 
                [{valType:'required',message:('VALIDATION.ERROR.REQUIRED' | translate)}])">
              </app-control-error>
            </mat-error>
          </mat-form-field>
        </div>
      </div>
    </form>
  </div>
  <div modal-footer>
    <button class="mr-6" mat-raised-button color="warn" (click)="this.closeModal()">
      {{ 'BUTTONS.CANCEL' | translate}}
    </button>
    <button mat-raised-button color="warn" (click)="save()">
      {{ 'BUTTONS.SAVE' | translate}}
    </button>
  </div>
</app-base-modal>