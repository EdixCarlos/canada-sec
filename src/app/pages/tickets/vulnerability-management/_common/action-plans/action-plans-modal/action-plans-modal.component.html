<app-base-modal [modalTitle]="'VM.ACTION_PLANS.TITLE' | translate">
    <div modal-body>
        <form class="form form-label-right" [formGroup]="formGroup">
            <div class="form-group row">
                <div class="col-lg-12">
                    <mat-form-field class="ols-form-control" appearance="fill">
                        <mat-label [translate]="'VM.ACTION_PLANS.SERVICE'"></mat-label>
                        <mat-select (selectionChange)="onChangeService($event)" formControlName="service">
                            <mat-option>--</mat-option>
                            <mat-option *ngFor="let element of services" [value]="element">
                                {{element.name}}
                            </mat-option>
                        </mat-select>
                        <mat-error>
                            <app-control-error [validationSignal]="validatorService.validateArray(formControls.service, 
                  [{valType:'required',message:('VALIDATION.ERROR.REQUIRED' | translate)}])">
                            </app-control-error>
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>
            <div class="form-group row">
                <div class="col-lg-12">
                    <mat-form-field class="ols-form-control" appearance="fill">
                        <mat-label [translate]="'VM.ACTION_PLANS.REQUEST'"></mat-label>
                        <mat-select (selectionChange)="onChangeSubService($event)" formControlName="subService">
                            <mat-option>--</mat-option>
                            <mat-option *ngFor="let element of subServices" [value]="element">
                                {{element.name}}
                            </mat-option>
                        </mat-select>
                        <mat-error>
                            <app-control-error [validationSignal]="validatorService.validateArray(formControls.subService, 
                [{valType:'required',message:('VALIDATION.ERROR.REQUIRED' | translate)}])">
                            </app-control-error>
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>
            <div *ngIf="requestTypes.length > 0" class="form-group row">
                <div class="col-lg-12">
                    <mat-form-field class="ols-form-control" appearance="fill">
                        <mat-label [translate]="'MENU.TICKETS.MODAL.FLD.TYPESUBSERVICE'"></mat-label>
                        <mat-select (selectionChange)="onChangeRequestType($event)" formControlName="requestType">
                            <mat-option>--</mat-option>
                            <mat-option *ngFor="let element of requestTypes" [value]="element">
                                {{element.name}}
                            </mat-option>
                        </mat-select>
                        <mat-error>
                            <app-control-error [validationSignal]="validatorService.validateArray(formControls.requestType, 
                  [{valType:'required',message:('VALIDATION.ERROR.REQUIRED' | translate)}])">
                            </app-control-error>
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>
        </form>
    </div>
    <div modal-footer>
        <button class="mr-6" mat-raised-button (click)="this.closeModal()">
            {{ 'BUTTONS.CANCEL' | translate}}
        </button>
        <button mat-raised-button color="warn" (click)="createTicket()">
            {{ 'BUTTONS.SAVE' | translate}}
        </button>
    </div>
</app-base-modal>