<app-base-modal
  [modalTitle]=" (!data ? 'PRO.AP.TITLE.ADD_ACTION_PLAN' : 'PRO.AP.TITLE.UPDATE_ACTION_PLAN') | translate">
  <div modal-body>
    <form class="form form-label-right" [formGroup]="formGroup">
      <div class="form-group row">
        <div class="col-lg-12">
          <h4><strong>Nombre del Proyecto: </strong>{{data.projectName}}</h4>
          <h4 *ngIf="!isNewTicket"><strong>Solicitud Asociada: </strong>{{data.idTicketParent}}</h4>
          <h4 *ngIf="!isNewTicket"><strong>NÂ° Subticket: </strong>{{data.idTicket}}</h4>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-lg-12">
          <mat-form-field class="ols-form-control" appearance="fill">
            <mat-label>{{'PRO.AP.H2' | translate}} {{+data.index}}</mat-label>
            <input matInput [placeholder]="'PRO.AP.H2' | translate" formControlName="etapa">
            <mat-error>
              <app-control-error [validationSignal]="validatorService.validateArray(formControls.etapa, 
                [{valType:'required',message:('VALIDATION.ERROR.REQUIRED' | translate)}])">
              </app-control-error>
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-lg-12">
          <mat-form-field class="ols-form-control" appearance="fill">
            <mat-label [translate]="'PRO.AP.MODAL.AREA'"></mat-label>
            <input matInput [placeholder]="'PRO.AP.MODAL.AREA' | translate" formControlName="area">
            <mat-error>
              <app-control-error [validationSignal]="validatorService.validateArray(formControls.area, 
                [{valType:'required',message:('VALIDATION.ERROR.REQUIRED' | translate)}])">
              </app-control-error>
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-lg-12">
          <mat-form-field class="ols-form-control" appearance="fill">
            <mat-label [translate]="'PRO.AP.MODAL.COUNTRY'"></mat-label>
            <input matInput [placeholder]="'PRO.AP.MODAL.COUNTRY' | translate" formControlName="pais">
            <mat-error>
              <app-control-error [validationSignal]="validatorService.validateArray(formControls.pais, 
                [{valType:'required',message:('VALIDATION.ERROR.REQUIRED' | translate)}])">
              </app-control-error>
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-lg-12">
          <mat-form-field class="ols-form-control" appearance="fill">
            <mat-label [translate]="'PRO.AP.MODAL.LIMIT_DATE'"></mat-label>
            <input matInput type="date" [placeholder]="'PRO.AP.MODAL.LIMIT_DATE' | translate"
              formControlName="fechaLimite">
            <mat-error>
              <app-control-error [validationSignal]="validatorService.validateArray(formControls.fechaLimite, 
                [{valType:'required',message:('VALIDATION.ERROR.REQUIRED' | translate)}])">
              </app-control-error>
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-lg-12">
          <mat-form-field class="ols-form-control" appearance="fill">
            <mat-label [translate]="'PRO.AP.H7'"></mat-label>
            <input matInput [placeholder]="'PRO.AP.H7' | translate" formControlName="estadoSalud">
            <mat-error>
              <app-control-error [validationSignal]="validatorService.validateArray(formControls.estadoSalud, 
                [{valType:'required',message:('VALIDATION.ERROR.REQUIRED' | translate)}])">
              </app-control-error>
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-lg-12">
          <mat-form-field class="ols-form-control" appearance="fill">
            <mat-label [translate]="'PRO.AP.MODAL.TEAM'"></mat-label>
            <input matInput [placeholder]="'PRO.AP.MODAL.TEAM' | translate" formControlName="equipo">
            <mat-error>
              <app-control-error [validationSignal]="validatorService.validateArray(formControls.equipo, 
                [{valType:'required',message:('VALIDATION.ERROR.REQUIRED' | translate)}])">
              </app-control-error>
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-lg-12">
          <mat-form-field class="ols-form-control" appearance="fill">
            <mat-label [translate]="'PRO.AP.MODAL.DESCRIPTION'"></mat-label>
            <input matInput [placeholder]="'PRO.AP.MODAL.DESCRIPTION' | translate" formControlName="descripcion">
            <mat-error>
              <app-control-error [validationSignal]="validatorService.validateArray(formControls.descripcion, 
                [{valType:'required',message:('VALIDATION.ERROR.REQUIRED' | translate)}])">
              </app-control-error>
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-lg-12">
          <mat-form-field class="ols-form-control" appearance="fill">
            <mat-label [translate]="'PRO.AP.MODAL.COMMENTS'"></mat-label>
            <input matInput [placeholder]="'PRO.AP.MODAL.COMMENTS' | translate" formControlName="comentarios">
            <mat-error>
              <app-control-error [validationSignal]="validatorService.validateArray(formControls.comentarios, 
                [{valType:'required',message:('VALIDATION.ERROR.REQUIRED' | translate)}])">
              </app-control-error>
            </mat-error>
          </mat-form-field>
        </div>
      </div>
    </form>
  </div>
  <div modal-footer *ngIf="!toUpdate">
    <button class="mr-6" mat-raised-button color="warn" (click)="closeModal()">
        {{ 'BUTTONS.CANCEL' | translate}}
    </button>
    <button mat-raised-button color="warn" (click)="save()">
        {{ 'BUTTONS.SAVE' | translate}}
    </button>
</div>
<div modal-footer *ngIf="toUpdate">
    <div class="row">
        <div class="col-lg-3">
            <button mat-raised-button color="warn" (click)="closeModal2()">
                {{ 'BUTTONS.CANCEL' | translate }}
            </button>
        </div>
        <div class="col-lg-3">
            <button mat-raised-button color="warn" (click)="update()">
                {{ 'BUTTONS.SAVE' | translate }}
            </button>
        </div>
        <div class="col-lg-3">
            <button mat-raised-button color="warn" (click)="delete()">
                {{ 'BUTTONS.DELETE' | translate }}
            </button>
        </div>
        <div class="col-lg-3">
            <button mat-raised-button color="warn" (click)="reasign()">
                {{ 'VM.BTN.REASIGN_TICKET' | translate }}
            </button>
        </div>
    </div>
</div>
</app-base-modal>